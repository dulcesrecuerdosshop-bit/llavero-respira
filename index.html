<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Frase Motivacional ‚Äî Llavero Respira</title>

  <link rel="manifest" href="/manifest.json">
  <!-- html2canvas para descargar la pantalla como imagen -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js" defer></script>

  <style>
    :root{
      --text-color: #fff;
      --muted: rgba(255,255,255,0.85);
      --btn-bg: rgba(255,255,255,0.08);
      --btn-radius: 10px;
    }
    html,body { height:100%; }
    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-family: 'Arial', sans-serif;
      text-align: center;
      transition: background 0.5s ease;
      padding: 20px;
      background: linear-gradient(135deg, #6a11cb, #2575fc);
      color: var(--text-color);
    }

    img.logo {
      max-width: 140px;
      margin-bottom: 34px;
      filter: drop-shadow(0 4px 10px rgba(0,0,0,0.25));
    }

    .frase {
      font-size: 1.8em;
      color: var(--text-color);
      font-weight: 700;
      max-width: 900px;
      width: 90%;
      line-height: 1.3;
      cursor: pointer;
      transition: transform 0.25s ease, opacity 0.25s ease;
      user-select: none;
      padding: 18px 22px;
      border-radius: 14px;
      backdrop-filter: blur(6px);
      background: rgba(255,255,255,0.06);
    }

    .frase:active { transform: scale(0.99); }

    .hint {
      margin-top: 14px;
      color: var(--muted);
      font-size: 0.92em;
      opacity: 0.95;
    }

    .controls {
      margin-top: 18px;
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      justify-content:center;
    }

    .controls button {
      background: var(--btn-bg);
      color: var(--text-color);
      border: none;
      padding: 8px 12px;
      border-radius: var(--btn-radius);
      font-size: 0.95em;
      cursor: pointer;
      transition: transform .12s ease, background .12s ease;
    }
    .controls button:active { transform: translateY(1px); }
    .controls button.secondary { background: rgba(255,255,255,0.04); }

    .historial {
      margin-top: 16px;
      color: rgba(255,255,255,0.9);
      font-size: 0.9em;
      max-width: 92%;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:center;
    }

    @media (max-width:480px){
      .frase { font-size:1.2em; padding:14px; }
      .controls button { padding:8px; font-size:0.9em; }
    }
  </style>
</head>
<body>
  <!-- Logo -->
  <img src="logo.png" alt="Logo Llavero Respira" class="logo">

  <!-- Frase -->
  <div class="frase" id="frase" title="Toca para ver otra frase"></div>
  <div class="hint">Toca la frase o presiona espacio para cambiar. Usa los botones abajo para acciones.</div>

  <!-- Controles -->
  <div class="controls" aria-hidden="false">
    <button id="favBtn" aria-label="Marcar como favorita">‚ô° Favorita</button>
    <button id="shareBtn" aria-label="Compartir frase">üîó Compartir</button>
    <button id="copyBtn" aria-label="Copiar frase">üìã Copiar</button>
    <button id="ttsBtn" aria-label="Escuchar frase">üîä Escuchar</button>
    <button id="breathBtn" aria-pressed="false">üå¨Ô∏è Respirar</button>
    <button id="downloadBtn" aria-label="Descargar imagen">‚¨áÔ∏è Descargar</button>
  </div>

  <div id="historial" class="historial" aria-live="polite"></div>

  <!-- JS principal (muestra frases) -->
  <script>
    const frases = [
      "Cree en ti y todo ser√° posible.",
      "Un paso hoy vale m√°s que cien promesas ma√±ana.",
      "La constancia vence lo que la suerte no alcanza.",
      "Lo √∫nico imposible es aquello que no intentas.",
      "Si caes, lev√°ntate con m√°s fuerza y sabidur√≠a.",
      "El √©xito es la suma de peque√±os esfuerzos repetidos.",
      "Hazlo con pasi√≥n o no lo hagas.",
      "Tu futuro lo construyes con las decisiones de hoy.",
      "No temas al error: es el comienzo del aprendizaje.",
      "Transforma los problemas en oportunidades.",
      "Avanza aunque sea despacio; avanzar es avanzar.",
      "Cada d√≠a es una nueva p√°gina: escribe algo valioso.",
      "El miedo frena, la acci√≥n impulsa.",
      "Aprende, adapta, mejora y repite.",
      "No esperes el momento perfecto; cr√©alo.",
      "La disciplina supera al talento cuando el talento no se esfuerza.",
      "Tu actitud determina tu direcci√≥n.",
      "Enf√≥cate en soluciones, no en excusas.",
      "La perseverancia abre puertas que parec√≠an cerradas.",
      "Lo que hoy parece dif√≠cil ser√° ma√±ana rutina.",
      "Si buscas resultados distintos, prueba acciones distintas.",
      "Rod√©ate de quienes te inspiren a crecer.",
      "No te compares; compite con tu yo del ayer.",
      "La gratitud multiplica lo que ya tienes.",
      "Si fallas, es porque te atreviste a intentar algo grande.",
      "Cada logro comienza con la decisi√≥n de intentar.",
      "Mant√©n la calma y sigue hacia adelante.",
      "Tu esfuerzo es la inversi√≥n que paga en futuro.",
      "Cambia el ‚Äúno puedo‚Äù por ‚Äúvoy a intentarlo‚Äù.",
      "Lo √∫nico que necesitas para empezar es empezar.",
      "La paciencia es la compa√±era de los grandes √©xitos.",
      "No renuncies antes de ver los frutos de tu trabajo.",
      "Vive con intenci√≥n y act√∫a con prop√≥sito.",
      "La creatividad nace cuando te permites equivocarte.",
      "Agradece lo peque√±o: es semilla de lo grande.",
      "Si te caes siete veces, lev√°ntate ocho.",
      "La mayor barrera est√° entre tus o√≠dos; derr√≠bala.",
      "Trabaja en silencio; deja que el √©xito haga ruido.",
      "Hoy planta lo que ma√±ana te dar√° sombra.",
      "No dejes que la duda robe tus oportunidades.",
      "Cada d√≠a es otra chance para mejorar.",
      "El progreso es mejor que la perfecci√≥n estancada.",
      "Cree en tu proceso aunque no veas el mapa completo.",
      "La acci√≥n es el puente entre tus sue√±os y la realidad.",
      "S√© valiente: lo grande se gana fuera de la zona de confort.",
      "Tu historia no termina con un tropiezo; contin√∫a.",
      "Lo que haces hoy determina c√≥mo te sentir√°s ma√±ana.",
      "El esfuerzo silencioso construye el √©xito visible.",
      "Acepta el cambio; en √©l est√° la oportunidad.",
      "No busques la aprobaci√≥n; busca la mejora.",
      "Haz de cada obst√°culo una lecci√≥n aprendida.",
      "El √©xito durable se forja con integridad y constancia.",
      "Vive con intenci√≥n, trabaja con disciplina, celebra con humildad.",
      "El talento se pule con trabajo, no con excusas.",
      "No te detengas hasta sentirte orgulloso.",
      "Menos quejarse, m√°s solucionar.",
      "Siembra h√°bitos hoy para cosechar tu mejor versi√≥n.",
      "Enf√≥cate en el proceso; los resultados vendr√°n.",
      "Tu potencial es mayor de lo que piensas; afl√≥ralo.",
      "Aprovecha el presente: es el √∫nico tiempo que controlas.",
      "La confianza se gana acciones tras acci√≥n.",
      "Lo dif√≠cil es temporal; el orgullo es permanente.",
      "Persigue progreso, no perfecci√≥n.",
      "Cuando otros duden, mu√©strate constante.",
      "Un logro a la vez construye grandes metas.",
      "Aprende a descansar sin renunciar a tus metas.",
      "No temas a los comienzos; son oportunidades disfrazadas.",
      "La mejor inversi√≥n es la que haces en ti mismo.",
      "Siembra esfuerzo hoy, recoge libertad ma√±ana.",
      "Ve m√°s all√° de lo que te imaginaste posible.",
      "Rod√©ate de acciones, no de promesas.",
      "Cada peque√±o avance suma un gran cambio.",
      "La disciplina forja el car√°cter y el destino.",
      "Mant√©n la visi√≥n cuando el camino sea oscuro.",
      "Conf√≠a en tu capacidad de adaptarte y superar.",
      "El √©xito no es suerte; es trabajo bien orientado.",
      "La pasi√≥n enciende, la perseverancia mantiene.",
      "Celebra los peque√±os triunfos; motivan los grandes.",
      "Enf√≥cate en lo que puedes controlar y suelta lo dem√°s.",
      "Las metas sin plan quedan en deseo; planifica y act√∫a.",
      "Si quieres resultados distintos, cambia tus h√°bitos.",
      "Lo que te limita hoy puede inspirarte ma√±ana.",
      "Habla menos; muestra m√°s con tus actos.",
      "El coraje no es ausencia de miedo, es actuar a pesar de √©l.",
      "Mant√©n la mente abierta y el compromiso firme.",
      "Sue√±a en grande, empieza en peque√±o, crece constante.",
      "No te rindas: las historias m√°s grandes tienen cap√≠tulos dif√≠ciles.",
      "Aprende a agradecer el proceso, no solo el resultado.",
      "La resiliencia te hace m√°s fuerte que las circunstancias.",
      "Piensa en grande, act√∫a con persistencia y humildad.",
      "Lo que hoy es esfuerzo, ma√±ana ser√° costumbre.",
      "Construye h√°bitos que te acerquen a tus sue√±os.",
      "Siembra disciplina y cosechar√°s libertad.",
      "Pon intenci√≥n en lo que haces y calidad en c√≥mo lo haces.",
      "Cada d√≠a es una nueva oportunidad para reinventarte.",
      "No busques atajos; construye cimientos s√≥lidos.",
      "El cambio empieza cuando decides dejar de esperar.",
      "Tu actitud hoy crea tus oportunidades de ma√±ana.",
      "S√© la raz√≥n por la que alguien m√°s no se rinde.",
      "Vive con prop√≥sito, trabaja con constancia y ama el camino."
    ];

    const fondos = [
      "linear-gradient(135deg, #f6d365, #fda085)",
      "linear-gradient(135deg, #a1c4fd, #c2e9fb)",
      "linear-gradient(135deg, #84fab0, #8fd3f4)",
      "linear-gradient(135deg, #fccb90, #d57eeb)",
      "linear-gradient(135deg, #f093fb, #f5576c)",
      "linear-gradient(135deg, #6a11cb, #2575fc)",
      "linear-gradient(135deg, #43cea2, #185a9d)",
      "linear-gradient(135deg, #ff9a9e, #fecfef)",
      "linear-gradient(135deg, #a18cd1, #fbc2eb)",
      "linear-gradient(135deg, #30cfd0, #330867)"
    ];

    const fraseEl = document.getElementById('frase');

    function mostrarFrase() {
      const fraseIndex = Math.floor(Math.random() * frases.length);
      const fondoIndex = Math.floor(Math.random() * fondos.length);
      fraseEl.style.opacity = 0;
      setTimeout(() => {
        const texto = frases[fraseIndex];
        fraseEl.textContent = texto;
        document.body.style.background = fondos[fondoIndex];
        fraseEl.style.opacity = 1;
        // Notificar a helpers (si existe) para historial/favoritos
        if (typeof window.onFraseMostrada === 'function') window.onFraseMostrada(texto);
      }, 180);
    }

    // Mostrar una al cargar
    mostrarFrase();

    // Interacciones
    fraseEl.addEventListener('click', mostrarFrase);
    document.addEventListener('keydown', (e) => {
      if (e.code === 'Space') { e.preventDefault(); mostrarFrase(); }
    });

    // Registrar service worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js').catch(err => console.log('SW error', err));
      });
    }
  </script>

  <!-- Helpers: acciones (favoritos, compartir, TTS, respiraci√≥n, descargar) -->
  <script src="/helpers.js" defer></script>
</body>
</html>
